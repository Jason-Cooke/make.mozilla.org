@import "mixins";

@panelShadow: 0 2px 3px rgba(0,0,0,0.25);

/* ===[ Fonts ]============================================================= */

@font-face {
	font-family: "Open Sans Light";
	font-style: normal;
	font-weight: normal;
	src: url("../fonts/OpenSans-Light-webfont.eot?#iefix") format("embedded-opentype"),
	     url("../fonts/OpenSans-Light-webfont.woff") format("woff"),
	     url("../fonts/OpenSans-Light-webfont.ttf") format("truetype"),
	     url("../fonts/OpenSans-Light-webfont.svg#OpenSansLight") format("svg");
}

@font-face {
	font-family: "Open Sans";
	font-style: normal;
	font-weight: normal;
	src: url("../fonts/OpenSans-Regular-webfont.eot?#iefix") format("embedded-opentype"),
	     url("../fonts/OpenSans-Regular-webfont.woff") format("woff"),
	     url("../fonts/OpenSans-Regular-webfont.ttf") format("truetype"),
	     url("../fonts/OpenSans-Regular-webfont.svg#OpenSansRegular") format("svg");
}

@font-face {
	font-family: "Open Sans";
	font-style: normal;
	font-weight: bold;
	src: url("../fonts/OpenSans-Semibold-webfont.eot?#iefix") format("embedded-opentype"),
	     url("../fonts/OpenSans-Semibold-webfont.woff") format("woff"),
	     url("../fonts/OpenSans-Semibold-webfont.ttf") format("truetype"),
	     url("../fonts/OpenSans-Semibold-webfont.svg#OpenSansSemibold") format("svg");
}

/* ===[ Core ]============================================================== */

body {
	background: #FFF;
	color: #939598;
	font-family: "Open Sans", sans-serif;
	font-size: 14px;
	text-shadow: 1px 1px 0 rgba(255,255,255,0.5);
}

#tabzilla-panel {
	z-index: 2;
}

.constrained {
	max-width: 900px;
	padding: 0 15px;
	margin: 0 auto;
}

a:link,
a:visited {
	text-decoration: none;
	color: #27AAE1;
}

h1 {
	font-family: "Open Sans Light", "Open Sans", sans-serif;
	font-size: 2.571em;
	color: #6D6E71;
}

h3 {
	font-size: 1.143em;
	font-weight: bold;
	color: #6D6E71;
	margin: 0 0 20px;
	padding: 0;
}

h4 {
	margin: 0;
	padding: 0;
}

p {
	font-size: 0.929em;
	line-height: 1.769em;
}

/* ===[ Header ]============================================================ */

#header {
	.box-shadow(~"0 0 5px rgba(0,0,0,0.5)");

	background: #FFF;
	background: rgba(255, 255, 255, 0.8);
	position: relative;
	z-index: 1;
}

#header p {
	display: none;
}

#header h1 {
	margin: 0;
	font-size: 1.429em;
}

#header h1 a {
	display: block;
	min-width: 85px;
	height: 70px;
	line-height: 70px;
	float: left;
	padding: 0 15px;
	margin-left: -15px;
	color: #48484B;
}

/* ---[ Main Navigation ]--------------------------------------------------- */

#header ul {
	height: 70px;
	margin: 0;
	padding: 0;
	list-style: none;
	font-weight: bold;
}

#header li a {
	.transition(all 0.25s linear 0s);

	display: block;
	min-width: 70px;
	height: 70px;
	line-height: 70px;
	margin: 0 0 0 -1px;
	padding: 0 15px;
	float: left;
	text-align: center;
	border: solid #E1E2E3;
	border-width: 0 1px;
	position: relative;
}

#header li a:hover {
	background: rgba(255,255,255,0.5);
}

/* Given the small number of site sections, it's easier to just keep track of
   which part of the site we're on and use that to select a navigation item */

.section-projects #header .projects a,
.section-tools #header .tools a,
.section-events #header .events a {
	background: #ED1C24;
	color: #FFF;
	border: none;
	margin-right: 1px;
	text-shadow: -1px -1px #DD0C14;
}

.section-projects #header .projects a::after,
.section-tools #header .tools a::after,
.section-events #header .events a::after {
	content: "";
	position: absolute;
	top: 100%;
	left: 0;
	border: solid transparent;
	border-width: 25px 50px 0 50px;
	border-top-color: #ED1C24;
}

@media screen and (max-width: 700px) {
	#header ul {
		clear: both;
		font-size: 0.8em;
		height: 30px;
		text-align: center;
		background: rgba(255,255,255,0.5);
		margin: 0 -15px;
	}

	#header li {
		display: inline-block;
	}

	#header li a {
		min-width: 50px;
		line-height: 30px;
		height: 30px;
		border: none;
		margin: 0;
		float: none;
	}

	.section-projects #header .projects a::after,
	.section-tools #header .tools a::after,
	.section-events #header .events a::after {
		border-width: 20px 40px 0 40px;
	}
}

/* ===[ Content ]=========================================================== */

#content {
	background: #F9F9F9 url(../img/bg-stone.png) 50% 0 repeat-x;
	min-height: 200px;
	margin-top: -70px;
	padding: 110px 0 40px;
	position: relative;
}

@media screen and (max-width: 700px) {
	#content {
		margin-top: -100px;
		padding-top: 140px;
	}
}

/* ---[ Brochure Content ]-------------------------------------------------- */

.brochure-page #content {
	margin-top: 530px;
	padding-top: 40px;
	border-top: solid 14px #6D6E71;
}

.brochure-page #content::before {
	content: "";
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 600px;
	background-color: #333;
	background-size: cover;
	background-position: 50% 50%;
	margin-top: -614px;
}

@media screen and (max-width: 900px) {
	.brochure-page #content {
		margin-top: 330px;
	}

	.brochure-page #content::before {
		margin-top: -414px;
		height: 400px;
	}
}

@media screen and (max-width: 700px) {
	.brochure-page #content {
		margin-top: 200px;
	}

	.brochure-page #content::before {
		margin-top: -314px;
		height: 300px;
	}
}

/* ===[ Footer ]============================================================ */

#footer {
	border-top: solid 1px #E1E2E3;
	overflow: hidden;
	padding: 50px 0;
	line-height: 25px;
}

#footer h3,
#footer .col {
	width: 25%;
	max-width: 180px;
	float: left;
	margin: 0;
	color: inherit;
}

#footer h4 {
	margin: 0;
}

#footer ul {
	margin: 0;
	padding: 0;
	list-style: none;
}

@media screen and (max-width: 700px) {
	#footer {
		padding: 25px 0;
	}

	#footer h3 {
		float: none;
		width: 100%;
	}

	#footer .col {
		width: 33.33%;
		max-width: 500px;
		margin-top: 25px;
	}
}

@media screen and (max-width: 500px) {
	#footer .col {
		float: none;
		width: 100%;
	}
}

/* ===[ Buttons ]=========================================================== */

.button,
.button:link,
.button:visited {
	.box-shadow(~"0 2px 0 0 rgba(0, 0, 0, 0.1), 0 -2px 0 0 rgba(0, 0, 0, 0.2) inset");
	.transition(~"box-shadow 0.25s linear 0s");
	.gradient(~"#BBB, #777");
	.border-radius(0.25em);

	background-color: #999;
	background-repeat: repeat-x;
	border: 0 none;
	color: #FFFFFF;
	display: inline-block;
	font-family: arial, sans-serif;
	font-size: 1em;
	height: 2.5em;
	line-height: 2.5em;
	padding: 0 1.5em;
	margin: 0;
	text-align: center;
	text-decoration: none;
	text-shadow: 0 1px 0 rgba(0, 0, 0, 0.25);
	white-space: nowrap;
}

.button:hover,
.button:link:hover,
.button:visited:hover {
	.box-shadow(~"0 2px 0 0 rgba(0, 0, 0, 0.1), 0 -2px 0 0 rgba(0, 0, 0, 0.2) inset, 0 12px 24px 2px #AAA inset");

	color: #FFFFFF;
	text-decoration: none;
}

.button:active,
.button:link:active,
.button:visited:active {
	.box-shadow(~"0 2px 0 0 rgba(0, 0, 0, 0.2) inset, 0 12px 24px 6px rgba(0, 0, 0, 0.2) inset, 0 0 2px 2px rgba(0, 0, 0, 0.2) inset");

	color: #FFFFFF;
	text-decoration: none;
}

.button::after {
	content: "\00A0\00BB";
}

/* ---[ Find Button ]------------------------------------------------------- */

.button.find,
.button.find:link,
.button.find:visited {
	.gradient(~"#3C88CC, #276195");

	background-color: #276195;
}

.button.find:hover,
.button.find:link:hover,
.button.find:visited:hover {
	.box-shadow(~"0 2px 0 0 rgba(0, 0, 0, 0.1), 0 -2px 0 0 rgba(0, 0, 0, 0.2) inset, 0 12px 24px 2px #3089D8 inset");
}

/* ---[ Create Button ]----------------------------------------------------- */

.button.submit,
.button.submit:link,
.button.submit:visited,
.button.create,
.button.create:link,
.button.create:visited {
	.gradient(~"#81BC2E, #659324");

	background-color: #659324;
}

.button.submit:hover,
.button.submit:link:hover,
.button.submit:visited:hover,
.button.create:hover,
.button.create:link:hover,
.button.create:visited:hover {
	.box-shadow(~"0 2px 0 0 rgba(0, 0, 0, 0.1), 0 -2px 0 0 rgba(0, 0, 0, 0.2) inset, 0 12px 24px 2px #83C822 inset");
}

/* ===[ Page Components ]=================================================== */

/* ---[ Intro Bar ]--------------------------------------------------------- */

.intro-bar {
	.box-shadow(@panelShadow);

	background-color: #FFF;
	line-height: 50px;
	padding: 25px;
	margin: 0 0 35px;
	font-size: 1.714em;
	font-family: "Open Sans Light", "Open Sans", sans-serif;
	font-weight: 100;
	text-align: center;
}

.intro-bar h2,
.intro-bar p {
	margin: 0;
	padding: 0;
	font-size: 1em;
	font-weight: normal;
	display: inline-block;
}

.intro-bar h2 {
	margin-right: 15px;
}

.intro-bar em {
	font-style: normal;
	margin: 0 15px;
}

.intro-bar .button {
	font-size: 0.75em;
}

@media screen and (max-width: 600px) {
	.intro-bar {
		padding: 10px;
	}

	.intro-bar h2 {
		margin: 0;
	}

	.intro-bar h2,
	.intro-bar p {
		display: block;
	}

	.intro-bar .button {
		display: block;
		margin: 10px 0 0;
	}

	.intro-bar em {
		display: none;
	}
}

/* ---[ Three Item Options ]------------------------------------------------ */

ul.tri-set {
	margin: 0 -15px;
	padding: 0 12px 0 0;
	list-style: none;
	overflow: hidden;
	text-align: center;
}

ul.tri-set li {
	.box-sizing(border-box);

	width: 33.33%;
	padding-left: 18px;
	margin-left: -3px;
	display: inline-block;
	text-align: left;
	position: relative;
	left: -3px;
	vertical-align: top;
}

ul.tri-set .thumb {
	.box-shadow(@panelShadow);

	background: #FFF;
	display: block;
	padding: 8px;
	margin: 0 0 18px;
}

ul.tri-set img {
	display: block;
	width: 100%;
}

@media screen and (max-width: 700px) {
	ul.tri-set {
		margin: -15px;
		padding: 15px;
	}

	ul.tri-set li {
		width: 100%;
		display: block;
		clear: both;
		margin: 0;
		padding: 0;
		position: static;
	}

	ul.tri-set .thumb {
		float: left;
		width: 40%;
		max-width: 271px;
		margin: 0 18px 18px 0;
	}
}

@media screen and (max-width: 500px) {
	ul.tri-set li {
		margin-bottom: 32px;
	}
	ul.tri-set .thumb {
		width: auto;
		max-width: 500px;
		margin: 0 0 18px;
		float: none;
	}
}

/* ---[ Meta Tickers ]------------------------------------------------------ */

.meta-ticker dl {
    overflow: hidden;
    margin: -10px 0 0 -10px;
    padding: 0 0 18px 10px;
    line-height: 25px;
}

.meta-ticker dt {
    font-weight: bold;
    clear: both;
    margin: 0;
    padding: 10px 0 0 115px;
}

.meta-ticker dd {
    margin: 0;
    padding: 0;
}

.meta-ticker .thumb {
	.box-shadow(@panelShadow);

    display: block;
    float: left;
    border: solid 5px #FFF;
	background: #FFF;
    margin: -25px 10px 0 0;
}

.meta-ticker img {
	display: block;
	width: 95px;
	height: 95px;
}

.meta-ticker ol {
	display: none;
}

@media screen and (min-width: 901px) {
	.meta-ticker.enabled {
		.gradient(~"#3C3B3B, #2F2D2E 3px, #282324");
		.box-shadow(~"0 0 10px rgba(0,0,0,0.5)");
		.border-radius(5px);

		position: relative;
		background-color: #231F20;
		margin-left: 50px;
		padding: 15px 15px 15px 75px;
		text-shadow: 0 0 2px #000;
		color: #999;
	}

	.meta-ticker.enabled dl {
		margin: 0;
		padding: 0;
	}

	.meta-ticker.enabled h2,
	.meta-ticker.enabled h3 {
		display: none;
	}

	.meta-ticker.enabled dt,
	.meta-ticker.enabled dd {
		display: none;
		margin: 0;
		padding: 0;
	}

	.meta-ticker.enabled .active {
		display: block;
	}

	.meta-ticker.enabled dt {
		width: 25%;
		float: left;
		font-size: 1.5em;
		color: #EEE;
		margin-top: -5px;
		font-weight: normal;
	}

	.meta-ticker.enabled dt::before {
		content: attr(data-label);
		display: block;
		text-transform: uppercase;
		font-size: 0.5em;
		color: #999;
	}

	.meta-ticker.enabled dd {
		width: 69%;
		float: right;
		font-size: 0.857em;
		padding-left: 5%;
		border-left: solid 1px #333;
	}

	.meta-ticker.enabled .thumb {
		.box-shadow(~"0 0 10px rgba(0,0,0,0.5)");

		border-radius: 50%;
		overflow: hidden;
		position: absolute;
		top: 50%;
		left: 0;
		margin: -52.5px 0 0 -50px;
	}

	.meta-ticker.enabled img {
		border-radius: 50%;
	}

	.meta-ticker.enabled ol {
		display: block;
		position: absolute;
		top: 100%;
		list-style: none;
		margin: 5px 0 0;
		padding: 0;
	}

	.meta-ticker.enabled li {
		float: left;
		display: block;
		font-size: 20px;
		font-weight: 100;
		width: 1em;
		height: 1em;
		line-height: 1em;
		text-align: center;
		margin: 0;
		padding: 0;
		cursor: pointer;
		color: #FFF;
		text-shadow: 0 0 5px rgba(0,0,0,0.5);
		outline: none;
		font-family: arial, sans-serif;
	}

	.meta-ticker.enabled li::after {
		content: "\025CB";
	}

	.meta-ticker.enabled li.active::after {
		content: "\025CF";
	}

	.meta-ticker.enabled li span {
		text-align: left;
		overflow: hidden;
		width: 0;
		display: block;
		float: left;
		text-indent: -999em;
	}
}

/* ---[ Forms ]------------------------------------------------------------- */

form.primary {
	.box-shadow(@panelShadow);

	background: #FFF;
	margin: 0;
	padding: 50px;
}

form.primary fieldset {
	border: none;
	border-bottom: solid 1px #E1E3E3;
	margin: 0 0 35px;
	padding: 0 18px 10px 0;
}

form.primary ul,
form.primary li {
	margin: 0;
	padding: 0;
	list-style: none;
}

form.primary li {
	margin-bottom: 25px;
}

form.primary .buttons {
	margin: 0;
	padding: 0;
	font-size: 1.286em;
}

form.primary li,
form.primary .buttons {
	margin-left: 165px;
}

form.primary label {
	display: block;
	width: 143px;
	margin-left: -165px;
	text-align: right;
	float: left;
	font-size: 1.143em;
	line-height: 2.125em;
}

form.primary textarea,
form.primary input[type="email"],
form.primary input[type="password"],
form.primary input[type="text"] {
	.transition(all linear .1s);
	.border-radius(6px);
	.box-shadow(~"0 2px 1px rgba(0,0,0,0.1) inset");

	height: 1.714em;
	width: 100%;
	max-width: 450px;
	background: #FAFAFA;
	border-color: #DBDBDB;
	border-style: solid;
	border-width: 1px;
	padding: 4px 8px;
	font-size: inherit;
	line-height: 1.714em;
}

form.primary textarea {
	resize: vertical;
}

form.primary textarea:focus,
form.primary input[type="email"]:focus,
form.primary input[type="password"]:focus,
form.primary input[type="text"]:focus {
	.box-shadow(~"0 2px 1px rgba(0,0,0,0.1) inset,0 0 8px 0 rgba(103,167,208,0.6)");

	border-color: #BBB;
	outline: none;
}

@media screen and (max-width: 600px) {
	form.primary li,
	form.primary .buttons {
		margin-left: 0;
	}

	form.primary label {
		margin-left: 0;
		margin-right: -18px;
		padding-bottom: 5px;
		text-align: left;
		float: none;
		line-height: 1em;
		width: auto
	}
}

/* ===[ Page Specific Settings ]============================================ */

/* ---[ Events Index Page ]------------------------------------------------- */

.bad-ie #events-index #content::before {
	background-image: url(http://placehold.it/2000x600/333);
}

@media screen and (min-width: 901px) {
	#events-index #content::before {
		background-image: url(http://placehold.it/2000x600/333);
	}

	#events-index .meta-ticker.enabled {
		position: absolute;
		bottom: 100%;
		left: 15px;
		right: 30%;
		margin-bottom: 50px;
	}
}

@media screen and (max-width: 900px) {
	#events-index #content::before {
		background-image: url(http://placehold.it/900x400/333);
	}
}

@media screen and (max-width: 700px) {
	#events-index #content::before {
		background-image: url(http://placehold.it/700x300/333);
	}
}

#events-index #content .constrained {
	margin-top: -97px;
	position: relative;
}

#events-index ul.tri-set h4 {
	text-transform: uppercase;
	font-weight: normal;
	font-size: 0.786em;
}

#events-index ul.tri-set p {
	font-size: 1em;
	margin-top: 0;
}